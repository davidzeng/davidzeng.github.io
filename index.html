<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>DZ's Website</title>
    <script src="js/jquery-1.7.1.min.js"></script>
    <script src="js/jquery.mousewheel-min.js"></script>
    <script src="js/jquery.terminal-0.8.8.js"></script>
    <link href="css/jquery.terminal.css" rel="stylesheet"/>
    <script>
    var path_mapping;
    var host;
    if (window.location.hostname == '') {
        host = "http://localhost:5000"
    } else {
        host = "https://morning-beyond-6767.herokuapp.com"
    }
    var get_paths = function($path) {
        $.get(host + $path, function( data, status ) {
            path_mapping = data.paths
            // make a copy of the mapping object & change display options
            var display_mapping = jQuery.extend(true, {}, path_mapping);
            for (var key in display_mapping) {
                if (display_mapping.hasOwnProperty(key))
                    display_mapping[key] = display_mapping[key]["text"]
            }
            $("#options").html("<pre>" + JSON.stringify(display_mapping, null, 2) + "</pre>");
        }, dataType = "json")
    }
    jQuery(document).ready(function($) {
        $('body').terminal(function(command, term) {
            if (command in path_mapping) {
                get_paths(path_mapping[command]["path"]);
            }
        }, {
            greetings: false,
            onInit: get_paths("/home")
        });
    });
    </script>
  </head>
<body>
    <div id="greeting"> Hi! Welcome to my site! Type one of the options to learn more about me.</div>
    <div id="main"></div>
    <div id="options">Please wait for a bit while my heroku instance wakes up...</div>
</body>
